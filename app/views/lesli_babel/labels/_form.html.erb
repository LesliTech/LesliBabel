
<%= form_with(
    id: "lesli-babel-labels-form",
    model: @label, 
    builder: LesliView::Forms::BuilderHorizontal
) do |form| %>

    <% label_status = 'Label ' + @label.status.humanize.downcase if @label.status %>
    <% label_category = '' + @label.category if @label.category %>

    <% form.fieldset(label_status, category:label_category) do %>

        <% if @label.new_record? %>
            <%= form.field_control_select(:bucket_id, @module.buckets.pluck(:code, :id)) %>
            <%= form.field_control_select(:prefix, LesliBabel::Label.prefixes) %>
            <%= form.field_control(:text) %>
            <%= form.field_control(:context) %>
        <% end %>

        <% unless @label.new_record? %>
            <% I18n.available_locales.each do |locale| %>
                <%= form.field_control(locale, label:language_name(locale)) %>
            <% end %>
            <hr>
            <%= form.field_control(:context) %>
            <%= form.field_control_select(:status, LesliBabel::Label.statuses) %>
            <%= form.field_control(:path) unless @label[:path].blank? %>
        <% end %>

        <hr>

        <%= form.field_control_button("Update", icon:"save") %>

    <% end %>
<% end %>
